---
title: Cross-References
---

# Working with Cross-References

MyST provides rich cross-referencing capabilities. charip-lsp helps you use them effectively.

## Anchors

Anchors are explicit targets for cross-references.

### Creating Anchors

```markdown
(my-anchor)=
# Heading Text

Content following the anchor...
```

The `(name)=` syntax creates a named anchor. The heading immediately after becomes the link text when referenced.

### Referencing Anchors

```markdown
See {ref}`my-anchor` for details.
```

charip-lsp provides:
- Autocomplete for anchor names
- Go-to-definition to jump to the anchor
- Rename refactoring to update all references
- Diagnostics if the anchor doesn't exist

## The `{ref}` Role

The primary cross-reference role for anchors and headings.

### Basic Usage

```markdown
{ref}`anchor-name`
```

### With Custom Text

```markdown
{ref}`Click here <anchor-name>`
```

### Heading References

Every heading automatically becomes a reference target using its slug:

```markdown
# Installation Guide

...later...

See {ref}`installation-guide`.
```

Slugs are generated by lowercasing and replacing spaces with hyphens.

## The `{doc}` Role

Reference other documents in your project.

### Basic Usage

```markdown
{doc}`/path/to/document`
```

Paths are relative to the documentation root (where `conf.py` lives).

### Relative Paths

```markdown
{doc}`../sibling-folder/document`
{doc}`./same-folder-document`
```

### With Custom Text

```markdown
{doc}`See the guide </getting-started/installation>`
```

## The `{term}` Role

Reference glossary terms.

### Defining Terms

```{code-block} markdown
:caption: In your glossary file

```{glossary}
MyST
  Markedly Structured Text, a Markdown flavor for Sphinx.

LSP
  Language Server Protocol, enabling editor integrations.
`` `
```

### Referencing Terms

```markdown
The {term}`MyST` parser supports directives.
```

charip-lsp provides:
- Autocomplete from defined terms
- Hover to see the definition
- Go-to-definition to jump to the glossary

## The `{numref}` Role

Numbered references to figures and tables.

### Creating Labeled Figures

```{code-block} markdown
```{figure} /images/architecture.png
:name: fig-architecture

The system architecture.
`` `
```

### Referencing

```markdown
As shown in {numref}`fig-architecture`...
```

Sphinx generates numbers automatically.

## The `{eq}` Role

Reference labeled equations.

### Creating Labeled Equations

```{code-block} markdown
```{math}
:label: eq-euler

e^{i\pi} + 1 = 0
`` `
```

### Referencing

```markdown
See Equation {eq}`eq-euler`.
```

## Directive Labels

Any directive can have a `:name:` option to make it referenceable:

```{code-block} markdown
```{note}
:name: important-note

This is important.
`` `
```

Then reference it:

```markdown
See {ref}`important-note`.
```

## Best Practices

### Naming Conventions

Use descriptive, kebab-case names:

```markdown
(installation-prerequisites)=    ✓ Good
(install-prereq)=                ✓ Okay
(sec1)=                          ✗ Bad
```

### Anchor Placement

Place anchors immediately before the content they label:

```markdown
(installation)=
# Installation

...content...
```

Not:

```markdown
# Installation
(installation)=        ✗ Wrong - anchor should be before

...content...
```

### Checking References

Use charip-lsp diagnostics to catch:
- References to non-existent anchors
- Typos in anchor names
- Missing glossary terms

## Troubleshooting

### Reference Not Resolving

1. Check the anchor exists with the exact name
2. Ensure the target file is in the vault
3. For glossary terms, verify the term is in a `{glossary}` directive

### Autocomplete Not Showing Target

1. The file containing the target must be indexed
2. Save the file with the anchor definition
3. Check LSP is running
